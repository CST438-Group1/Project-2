# ===============================
# Application Name
# ===============================
spring.application.name=f1-api

# ===============================
# Supabase PostgreSQL Connection (Session Pooler - IPv4 compatible)
# Connects to the remote Supabase database using the session pooler.
# SSL is required for secure communication with Supabase.
# NOTE: Consider moving credentials to environment variables before production.
# ===============================
spring.datasource.url=jdbc:postgresql://aws-1-us-west-1.pooler.supabase.com:5432/postgres?sslmode=require
spring.datasource.username=postgres.eytlhjybvmmmtcvbxyyr
spring.datasource.password=MotoRYX2026

# ===============================
# JPA / Hibernate Configuration
# - ddl-auto=update: Hibernate auto-creates/updates tables based on JPA entities.
# - show-sql=true: Logs all SQL statements to the console for debugging.
# - open-in-view=false: Disables lazy-loading outside of transactions (best practice).
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.open-in-view=false

# ===============================
# Schema Initialization
# - init.mode=always: Runs schema.sql on every startup to ensure tables exist.
# - defer-datasource-initialization=true: Ensures schema.sql runs before Hibernate
#   validates entity mappings, preventing startup errors.
# ===============================
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true
